---
interface Props {
  title: string;
  description: string;
  icon: string; // We'll use icon names as strings
  class?: string;
}

const { title, description, icon, class: className } = Astro.props;

// Icon SVG paths for the icons we need
const iconSVGs = {
  BarChart3: 'M3 3v18h18M8 17l4-4 4 4 6-6',
  Sparkles: 'm9 12 2 2 4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z',
  TrendingUp: 'm5 12 4-4 4 4 6-6m2 6h-2M7 12v8m4-8v8m4-8v8',
  Target: 'M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z',
  Palette: 'M12 2l3.09 6.26L22 9l-5.09 3.09L19 22l-7-4-7 4 2.09-9.91L2 9l6.91-1.74L12 2z',
  Zap: 'M13 2L3 14h9l-1 8 10-12h-9l1-8z',
  Shield: 'M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z',
  Users: 'M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z',
  TrendingDown: 'm3 17 6-6 4 4 8-8',
  AlertTriangle: 'm21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z',
  Calculator: 'M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2Z',
  Briefcase: 'M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16m8 0V8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2Z',
  Home: 'm3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z'
};

const iconPath = iconSVGs[icon as keyof typeof iconSVGs] || iconSVGs.Sparkles;
---

<div class={`feature-card group relative overflow-hidden p-6 border rounded-lg bg-white transition-all duration-300 hover:shadow-lg hover:border-blue-200 ${className || ''}`}>
  <!-- Enhanced grid background with glow effect -->
  <div class="pointer-events-none absolute inset-0 opacity-30 group-hover:opacity-50 transition-opacity duration-300">
    <div class="absolute inset-0 bg-[linear-gradient(to_right,rgba(59,130,246,0.1)_1px,transparent_1px),linear-gradient(to_bottom,rgba(59,130,246,0.1)_1px,transparent_1px)] bg-[size:20px_20px]"></div>
  </div>
  
  <!-- Subtle corner accent -->
  <div class="absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-blue-50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
  
  <!-- Animated icon container -->
  <div class="relative z-10 w-12 h-12 rounded-lg bg-blue-50 flex items-center justify-center group-hover:bg-blue-100 transition-colors duration-300">
    <svg class="text-blue-600 size-6 group-hover:scale-110 transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
      <path stroke-linecap="round" stroke-linejoin="round" d={iconPath}></path>
    </svg>
  </div>
  
  <h3 class="relative z-10 mt-6 text-sm md:text-base font-medium group-hover:text-blue-900 transition-colors duration-300">{title}</h3>
  <p class="text-muted-foreground relative z-10 mt-2 text-xs font-light leading-relaxed">{description}</p>
  
  <!-- Subtle scan line effect on hover -->
  <div class="scan-line absolute top-0 left-0 h-[1px] w-full bg-gradient-to-r from-transparent via-blue-400 to-transparent opacity-0 group-hover:opacity-100"></div>
</div>

<style>
  .feature-card .scan-line {
    animation: featureScan 2s ease-in-out infinite;
    transform: translateX(-100%);
  }

  .feature-card:hover .scan-line {
    animation-play-state: running;
  }

  @keyframes featureScan {
    0% {
      transform: translateX(-100%);
      opacity: 0;
    }
    50% {
      opacity: 1;
    }
    100% {
      transform: translateX(100%);
      opacity: 0;
    }
  }

  /* Glass morphism background */
  .feature-card {
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(8px);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }

  @media (prefers-reduced-motion: reduce) {
    .feature-card .scan-line {
      animation: none;
      opacity: 0.2;
    }
    
    .feature-card svg,
    .feature-card h3 {
      transition: none;
    }
  }
</style>